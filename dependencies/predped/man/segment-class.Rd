% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/objects.R
\docType{class}
\name{segment-class}
\alias{segment-class}
\alias{segment}
\title{An S4 class to Represent Lines}
\description{
Lines are used to determine intersections and to prevent pedestrians from 
walking certain ways.
}
\details{
It is important to realize exactly how it is determined whether agents can 
move through a segment or not before constructing or using these segments in 
your environment. For this, consider the following logic.

Consider the \code{from} slot to be the center of a circle. Furthermore 
consider the radius of this circle to be equal to the \code{size} slot, and 
the \code{orientation} of the segment to be determined by the positions of 
the \code{from} and \code{to} slots, so that we look at the orientation of 
the location of \code{to} relative to the location of \code{from}. This is 
how the \code{\link[predped]{segment-class}} is constructed, and is an 
important starting point for determining when pedestrians can and cannot 
move through a segment.

Consider another point in the Euclidian space, so that it has a position 
P = (x, y). Now we compute the relative angle of this coordinate within the 
circle that is defined by the \code{from} and \code{to} slots. In other words, 
we compute the absolute angle of coordinate P relative to \code{from} -- 
let's call this \eqn{\alpha} -- and then subtract the orientation of the line 
from this to get a relative angle within the circle defined by the 
segment -- let's call the result \eqn{\beta = \alpha - orientation}. 
We then block an agent whenever \eqn{\beta \in (0, pi)}, and let him pass 
through whenever \eqn{\beta \in [pi, 2 * pi]}.

To gain some intuition for this: If you create a segment that is vertical, 
where \code{from} has a lower y-coordinate than \code{to} (e.g., 
\code{from = c(0, 0)} and \code{to = c(0, 1)}), then agents will be blocked
whenever they find themselves to the left of this segment, while 
they will be able to pass through the segment whenever they are to the 
right of this segment.
}
\section{Slots}{

\describe{
\item{\code{from}}{Numeric vector denoting where the segment begins.}

\item{\code{to}}{Numeric vector denoting where the segment ends.}

\item{\code{center}}{Numeric vector denoting the center of the segment.}

\item{\code{size}}{Numeric denoting the length of the segment.}

\item{\code{orientation}}{Numeric denoting the orientation of the segment in radians.}

\item{\code{...}}{Slots that are inherited from \code{\link[predped]{object-class}}}
}}

\seealso{
\code{\link[predped]{object-class}},
\code{\link[predped]{initialize,segment-method}},
\code{\link[predped]{limit_access}}
}
